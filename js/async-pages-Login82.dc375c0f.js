(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["async-pages-Login82","async-components-Link20","async-components-PageFooter24","async-pages-Login-rules86"],{"2fdb":function(t,e,s){"use strict";var a=s("5ca1"),n=s("d2c8"),r="includes";a(a.P+a.F*s("5147")(r),"String",{includes:function(t){return!!~n(this,t,r).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"31e4":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"login"},[s("div",{staticClass:"locator"},[s("el-form",{ref:"login",staticClass:"login__form",attrs:{"label-position":"right",model:t.userInfo,rules:t.rules,"status-icon":""},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmit(e)}}},[s("h1",{staticClass:"login__form__title"},[t._v(t._s(t.$t("header")))]),s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{placeholder:t.$t("placeholder.username"),clearable:""},model:{value:t.userInfo.username,callback:function(e){t.$set(t.userInfo,"username",e)},expression:"userInfo.username"}},[s("i",{staticClass:"el-icon-user",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{placeholder:t.$t("placeholder.password"),type:"password",clearable:"","show-password":""},model:{value:t.userInfo.password,callback:function(e){t.$set(t.userInfo,"password",e)},expression:"userInfo.password"}},[s("i",{staticClass:"el-icon-lock",attrs:{slot:"prefix"},slot:"prefix"})])],1),s("el-button",{staticClass:"login__controller__submit",attrs:{type:"primary",loading:t.isLoading},on:{click:t.onSubmit}},[t._v(t._s(t.$t("submitButton")))]),s("div",{staticClass:"login__account"},[s("el-button",{staticClass:"login__account__item",attrs:{size:"mini",type:"text"},on:{click:function(e){return t.asDefault("admin")}}},[t._v(t._s(t.$t("asAdmin")))]),s("el-button",{staticClass:"login__account__item",attrs:{size:"mini",type:"text"},on:{click:function(e){return t.asDefault("user")}}},[t._v(t._s(t.$t("asUser")))])],1),s("div",{staticClass:"git"},[t.lastCommit.author?s("span",[t._v(t._s(t.$t("latestCommit"))+": "),s("a",{staticClass:"git__info",attrs:{href:"https://github.com/lbwa/adminize-template",target:"_blank"}},[t._v(t._s(t._f("formatDate")(t.lastCommit.author.date)))])]):t._e(),t.lastRelease?s("span",[t._v(t._s(t.$t("latestRelease"))+": "),s("a",{staticClass:"git__info",attrs:{href:"https://github.com/lbwa/adminize-template/releases",target:"_blank"}},[t._v(t._s(t.lastRelease.tag_name))])]):t._e()])],1)],1),s("el-footer",{staticClass:"login__footer"},[s("page-footer")],1)],1)},n=[],r=s("768b"),i=(s("96cf"),s("3b8d")),o=s("cebc"),c=s("2f62"),l=s("ccb6"),u=s("5fc9"),f=s("365c"),m=s("ed08"),p={data:function(){return{userInfo:{username:"",password:""},rules:u["default"].call(this),isLoading:!1,lastCommit:{},lastRelease:null}},methods:Object(o["a"])({onSubmit:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,this.switchLoading(!0),t.next=4,this.$refs.login.validate();case 4:return t.next=6,this.$store.dispatch("login/userLogin",Object(o["a"])({},this.userInfo,{vm:this}));case 6:this.switchLoading(!1),t.next=13;break;case 9:t.prev=9,t.t0=t["catch"](0),this.switchLoading(!1);case 13:case"end":return t.stop()}},t,this,[[0,9]])}));function e(){return t.apply(this,arguments)}return e}(),switchLoading:function(t){this.isLoading=t},asDefault:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"admin";this.userInfo.username=t,this.userInfo.password=t}},Object(c["b"])("login",["userLogout"])),filters:{formatDate:m["formatDate"]},created:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,s,a,n,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.userLogout(),t.prev=1,e=Object(f["fetchCommitList"])(),s=Object(f["fetchLastRelease"])(),t.next=6,e;case 6:return a=t.sent,n=Object(r["a"])(a,1),i=n[0],t.next=11,s;case 11:this.lastRelease=t.sent,this.lastCommit=i.commit,t.next=19;break;case 15:t.prev=15,t.t0=t["catch"](1),this.$_plugins_message.error("Fetching release info failed !");case 19:case"end":return t.stop()}},t,this,[[1,15]])}));function e(){return t.apply(this,arguments)}return e}(),components:{PageFooter:l["default"]},i18n:{messages:{en:{header:"Adminize console",placeholder:{username:"Username",password:"Password"},tips:{username:"Username is required.",password:"Password is required."},submitButton:"Login",asAdmin:"as admin",asUser:"as user",latestCommit:"Latest commit",latestRelease:"Latest release"},zh:{header:"Adminize console",placeholder:{username:"用户名",password:"密码"},tips:{username:"请输入正确的用户名",password:"请输入正确的密码"},submitButton:"登 录",asAdmin:"管理员登录",asUser:"用户登录",latestCommit:"最新提交",latestRelease:"最新发布"}}}},d=p,h=(s("9c31"),s("2877")),g=Object(h["a"])(d,a,n,!1,null,"0fc2e752",null);e["default"]=g.exports},4543:function(t,e,s){"use strict";var a=s("7180"),n=s.n(a);n.a},5147:function(t,e,s){var a=s("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(s){try{return e[a]=!1,!"/./"[t](e)}catch(n){}}return!0}},"5fc9":function(t,e,s){"use strict";function a(){return{username:[{required:!0,message:this.$t("tips.username"),trigger:"blur"}],password:[{required:!0,message:this.$t("tips.password"),trigger:"blur"}]}}s.r(e),s.d(e,"default",function(){return a})},7180:function(t,e,s){},"7bc0":function(t,e,s){"use strict";var a=s("f5c3"),n=s.n(a);n.a},"9c31":function(t,e,s){"use strict";var a=s("f78a"),n=s.n(a);n.a},b9a4:function(t,e,s){"use strict";s.r(e);var a=function(t,e){var s=e._c;return s("a",{class:["link",e.props.size],attrs:{href:e.props.href,target:e.props.target}},[e._t("default")],2)},n=[],r=(s("6762"),s("2fdb"),{name:"AdminizeLink",props:{href:{type:String,required:!0},target:{type:String,default:"_blank"},size:{type:String,default:"small",validator:function(t){return["small","medium","large"].includes(t)}}}}),i=r,o=(s("7bc0"),s("2877")),c=Object(o["a"])(i,a,n,!0,null,"7bc86f16",null);e["default"]=c.exports},ccb6:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"footer__info"},[s("adminize-link",{attrs:{href:"https://github.com/lbwa/adminize-template/blob/master/CHANGELOG.md"}},[t._v("Changelog")]),t._v("\n   -  Copyright © "+t._s(t._f("formatYear")((new Date).getFullYear()))+"\n  "),s("adminize-link",{attrs:{href:"https://github.com/lbwa",target:"_blank"}},[t._v("Bowen")]),t._v("\n   - \n  "),s("adminize-link",{attrs:{href:"https://github.com/lbwa/adminize-template#adminize-template"}},[t._v("Documentation")])],1)},n=[],r=s("b9a4"),i={components:{AdminizeLink:r["default"]},filters:{formatYear:function(t){return"2019"!==t?t:"2019 - ".concat(t)}}},o=i,c=(s("4543"),s("2877")),l=Object(c["a"])(o,a,n,!1,null,"49b15a7f",null);e["default"]=l.exports},d2c8:function(t,e,s){var a=s("aae3"),n=s("be13");t.exports=function(t,e,s){if(a(e))throw TypeError("String#"+s+" doesn't accept regex!");return String(n(t))}},f5c3:function(t,e,s){},f78a:function(t,e,s){}}]);